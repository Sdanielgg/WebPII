<!DOCTYPE html>
<html><body>
  <h1>Dashboard</h1>
  <button id="btn">Ver mensagem privada</button>
  <p id="msg"></p>
  <script>
    const token = localStorage.getItem('token');
    if (!token) window.location.href = 'login.html';

    document.getElementById('btn').addEventListener('click', async () => {
      const res = await fetch('http://127.0.0.1:3000/Utilizador/privado', {
        headers: { 'Authorization': 'Bearer ' + token }
      });
      const d = await res.json();
      document.getElementById('msg').innerText = res.ok ? d.message : d.error;
    });
  </script>
</body></html>
